<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
    <template id="qc_material_approval_report_template">
        <t t-call="report.html_container">
             <t t-call="cicon_qc.cicon_qc_external_layout">
                <div class="page">
                    <div class="row">


                        <table class="table table-bordered">
                            <thead>
                                <th style="width:5%">Sno</th>
                                <th style="width:15%">Customer</th>
                                <th style="width:20%">Project</th>
                                <t t-set="origins" t-value="get_origins()"/>
                                <th t-foreach="origins" t-as="org">
                                  <span t-field="org.name"/>
                                </th>
                            </thead>
                            <tbody>
                          <t t-set="states" t-value="get_state_list()"/>
                          <tr t-foreach="docs" t-as="o">
                              <t t-set="app_list" t-value="get_approval(o.id)"/>
                              <td> <span t-esc="o_index+1"/> </td>
                              <td> <span t-field="o.partner_id.name"/> </td>
                              <td> <span t-field="o.name"/> </td>
                               <t t-foreach="origins" t-as="org">
                                   <t t-set="stat" t-value="app_list.get(org.id,False)"/>
                                   <td t-att-class="'warning' if stat == 'pending' else 'info'  if stat == 'verbal' else 'success' if stat == 'approve' else 'danger' if stat == 'reject' else '' ">
                                     <span t-esc="states.get(stat)"/>
                                   </td>
                               </t>
                          </tr>
                         </tbody>
                        </table>
                    </div>
                </div>
             </t>
        </t>
    </template>
</data>
</odoo>
