<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="report_cicon_debtors_report_template">
        <t t-call="web.html_container">

                <t t-call="web.internal_layout">
                    <div class="page">
                        <div>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th colspan="4">Descriptions</th>
                                        <th rowspan="2"> Total Receivable </th>
                                        <th rowspan="2"> Covered By PDC </th>
                                        <th rowspan="2"> Covered By LC </th>
                                        <th rowspan="2"> Net Amount </th>
                                        <th rowspan="2"> 30 Days</th>
                                        <th rowspan="2"> 60 Days </th>
                                        <th rowspan="2"> 90 Days </th>
                                        <th rowspan="2"> 120 Days </th>
                                        <th rowspan="2"> 150 Days </th>
                                        <th rowspan="2"> 180 Days </th>
                                        <th rowspan="2"> 6-12 Months </th>
                                        <th rowspan="2"> Above </th>

                                    </tr>
                                    <tr>
                                        <th> Customer  </th>
                                        <th> Account Code </th>
                                        <!--<th> Account Name </th>-->
                                        <th> Project </th>
                                        <th> Database </th>


                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="docs" t-as="o">
                                       <t t-foreach="get_partners()" t-as="p">
                                           <t t-set="_checks" t-value="get_check_details(p[0])"/>
                                           <t t-foreach="_checks" t-as="ch">
                                           <t t-set="r" t-value="get_sun_details(ch.get('account_no'))" />
                                           <t t-if="r">
                                             <tr t-att-class="'success' if l_even" >
                                                   <td> <span t-esc="p[1]"/> </td>
                                                   <td>  <span t-esc="r.get('ACCNT_CODE',False) or ch.get('account_no')"/> </td>
                                                   <!--<td>  <span t-esc="r.get('ACCNT_NAME',False)"/> </td>-->
                                                    <td>  <span t-esc="ch.get('project_name', '')"/>  </td>
                                                    <td>  <span t-esc="type(r.get('ACCNT_CODE'))" />  </td>
                                                    <td class="text-right">
                                                         <t t-if="r.get('TOTAL',0) != 0">
                                                            <span t-esc="r.get('TOTAL',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                                                         </t>
                                                     </td>
                                                    <td class="text-right">
                                                         <t t-if="ch.get('total_chq',0) != 0">
                                                            <span t-esc="ch.get('total_chq',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                    </td>
                                                    <td class="text-right">
                                                         <t t-if="ch.get('total_lc',0) != 0">
                                                            <span t-esc="ch.get('total_chq',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                    </td>

                                                    <td>
                                                        <span t-esc="r.get('TOTAL',0) - (ch.get('total_chq',0) + ch.get('total_lc',0))" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />

                                                    </td>
                                                    <td class="text-right">
                                                         <t t-if="r.get('30 Days',0) != 0">
                                                            <span t-esc="r.get('30 Days',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                     </td>
                                                     <td class="text-right">
                                                         <t t-if="r.get('30-60 Days',0) != 0">
                                                            <span t-esc="r.get('30-60 Days',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                    </td>
                                                     <td class="text-right">
                                                         <t t-if="r.get('60-90 Days',0) != 0">
                                                            <span t-esc="r.get('60-90 Days',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                     </td>
                                                     <td class="text-right">
                                                         <t t-if="r.get('90-120 Days',0) != 0">
                                                            <span t-esc="r.get('90-120 Days',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                     </td>
                                                     <td class="text-right">
                                                         <t t-if="r.get('120-150 Days',0) != 0">
                                                         <span t-esc="r.get('120-150 Days',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                     </td>
                                                     <td class="text-right">
                                                         <t t-if="r.get('150-180 Days',0) != 0">
                                                            <span t-esc="r.get('150-180 Days',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                     </td>
                                                     <td class="text-right">
                                                         <t t-if="r.get('6-12 Months',0) != 0">
                                                            <span t-esc="r.get('6-12 Months',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                     </td>
                                                     <td class="text-right">
                                                         <t t-if="r.get('Above Year',0) != 0">
                                                            <span t-esc="r.get('Above Year',False)" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}" />
                                                         </t>
                                                     </td>

                                                    </tr>
                                                 </t>
                                            </t>

                                       </t>
                                    </t>
                                </tbody>


                            </table>



                        </div>
                    </div>

            </t>
        </t>
    </template>

</odoo>